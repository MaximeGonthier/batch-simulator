\documentclass[a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage{color}
\usepackage[dvipsnames]{xcolor}
\usepackage{graphicx}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{diagbox}
\usepackage{colortbl}
\usepackage{pdfpages}
\usepackage{todonotes}
\usepackage{listings}
\usepackage{amsmath}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{xspace}
\usepackage{xcolor,pifont}
\usepackage{fullpage}
\usepackage{algorithm, algpseudocode}
\usepackage[hidelinks]{hyperref}
\usepackage[english]{babel}
%~ \usepackage[backend=bibtex]{biblatex}
%~ \bibliography{ref_cadre}
\algnewcommand\algorithmicforeach{\textbf{for each}}
\algdef{S}[FOR]{ForEach}[1]{\algorithmicforeach\ #1\ \algorithmicdo}
\renewcommand{\algorithmicrequire}{\textbf{Input:}}
\renewcommand{\algorithmicensure}{\textbf{Output:}}
\newtheorem{Problem}{Problem}
\newtheorem{Theorem}{Theorem}
\newtheorem{Lemma}{Lemma}
\newtheorem{Hypothesis}{Hypothesis}
\providecommand{\keywords}[1]{\textbf{\textit{Key-words:}} #1}
\newcommand{\LM}[1]{\textcolor{red}{LM:~{#1}}}
\newcommand{\ST}[1]{\textcolor{orange}{ST:~{#1}}}
\newcommand{\TODO}[1]{\textcolor{olive}{TODO:~{#1}}}
\newcommand{\Q}[1]{\textcolor{blue}{Q:~{#1}}}
\setlength{\parskip}{0.2 cm}
\title{Notes articles}
\author{Maxime GONTHIER Samuel THIBAULT Loris MARCHAL}

\newcommand{\card}[1]{\ensuremath{\left|{#1}\right|}\xspace}
\newcommand{\live}{\ensuremath{L}\xspace}
\newcommand{\evict}{\ensuremath{\mathcal{V}}\xspace}
\newcommand{\dataset}{\ensuremath{\mathbb{D}}\xspace}
\newcommand{\taskset}{\ensuremath{\mathbb{T}}\xspace}
\newcommand{\packageset}{\ensuremath{\mathbb{P}}\xspace}
\newcommand{\inputs}{\ensuremath{\mathcal{D}}\xspace}
\newcommand{\optpb}{\textsc{Min\-Loads\-For\-Tasks\-Sharing\-Data}\xspace}
\newcommand{\nbloads}{\ensuremath{\mathit{\mathit{\#Loads}}}\xspace}
\newcommand{\MIN}{\ensuremath{\mathit{MIN}}\xspace}
\newcommand{\starpu}{\textsc{StarPU}\xspace}
\newcommand{\nbPU}{\ensuremath{\vert PU \vert}\xspace}

\usepackage{tikz}
\usetikzlibrary{fit, shapes.geometric, patterns}

\makeatletter\tikzset{hatch distance/.store in=\hatchdistance,hatch distance=5pt,hatch thickness/.store in=\hatchthickness,hatch thickness=5pt}\pgfdeclarepatternformonly[\hatchdistance,\hatchthickness]{north east hatch}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{\hatchdistance}{\hatchdistance}}{\pgfpoint{\hatchdistance-1pt}{\hatchdistance-1pt}}{\pgfsetcolor{\tikz@pattern@color}\pgfsetlinewidth{\hatchthickness}\pgfpathmoveto{\pgfqpoint{0pt}{0pt}}\pgfpathlineto{\pgfqpoint{\hatchdistance}{\hatchdistance}}\pgfusepath{stroke}}\makeatother\usetikzlibrary{calc,shadings,patterns,tikzmark}\newcommand\HatchedCell[5][0pt]{\begin{tikzpicture}[overlay,remember picture]\path ($(pic cs:#2)!0.5!(pic cs:#3)$)coordinate(aux1)(pic cs:#4)coordinate(aux2);\fill[#5]($(aux1)+(-0.23*0.075\textwidth,1.9ex)$)rectangle($(aux1 |- aux2)+(0.23*0.075\textwidth,-#1*\baselineskip-.8ex)$);\end{tikzpicture}}

\newcounter{nodemarkers}
\newcommand\circletext[1]{%
    \tikz[overlay,remember picture] 
        \node (marker-\arabic{nodemarkers}-a) at (0,1.5ex) {};%
    #1%
    \tikz[overlay,remember picture]
        \node (marker-\arabic{nodemarkers}-b) at (0,0){};%
    \tikz[overlay,remember picture,inner sep=2pt]
        \node[draw,ellipse,fit=(marker-\arabic{nodemarkers}-a.center) (marker-\arabic{nodemarkers}-b.center)] {};%
    \stepcounter{nodemarkers}%
}

% Pour les checkmark
\newcommand*\colourcheck[1]{%
  \expandafter\newcommand\csname #1check\endcsname{\textcolor{#1}{\ding{52}}}
}
\colourcheck{green}
\newcommand{\ok}[1]{\textcolor{ForestGreen}{OK \greencheck}}
\newcommand{\oktext}[1]{\textcolor{ForestGreen}{OK \greencheck}~\textcolor{ForestGreen}{#1}}

\begin{document}

%~ \tableofcontents
\newpage

%~ /data-aware-batch-scheduling/MBSS$ oarsub -p orion -l core=2,walltime=08:00:00 -r '2022-06-14 19:00:00' "bash Stats_single_workload.sh inputs/workloads/converted/test-11 inputs/clusters/rackham_450_128_32_256_4_1024.txt Fcfs 0"

\section{What's new since last meeting ?}

	\begin{enumerate}
		\item Re-writing of area filling
		\item More heatmaps fcfs with a score and all multipliers combination heatmaps
		\item Code area filling ratio and area filling omniscient
		\item pseudo code area filling with different filling of allocated area (It's: Allocated Area[choosen size][x] gets Allocated Area[choosen size][x] + Area(Ji) with Area(Ji) = cores*walltime. But I would prefer to do: cores*(delay+transfer time))
		\item code area filling with ratio and allocated area
		\item code easybf fcfs only
		\item are filling omnisicnet comme je fais en ce moment. Si ca marche pas essayer avec le graduellement
		\item dans area filling: A la place de immedialy est ce que ca finir a plus tot sur le noeud de taille x + 1 et comparer aussi avec x + 2 ... x + n.
		\item Size onstraint: sorting by size is bad
		\item ignore dt for constraint == 2
		\item revoir area filling tart dans le main en fct de planned or ratio et des nouveau noms de fichiers et retester avec les 2 cluster différents.
		\item plot with nb of upgraded jobs
	\end{enumerate}
	
\section{Questions for next meeting}

	\begin{enumerate}
		\item Do I still put a data on each job ?
		\item Utiliser attestation volontariat IPDPS pour formations ? 20h ?
	\end{enumerate}

\section{Todo}
	\subsection{General}
		\begin{enumerate}
			\item Count nuber of smaller jobs on bigger nodes
			\item Répondre a Bora
			\item backfill with fcfs score where I use fcfs score for j1 and for backfill I look at the earlest finish time + a score on nb of copy and evicted time. Like classic fcfs score but only among nodes where I can start immediatly
			\item refaire des tests size constraint
			\item se ré inscrire sur siged
			\item code more easy bf and test them.
			\item test constraint: test normal et test avec workload et cluster particulier comme écris plus bas dans la todo list pour voir si y a un impact (pour area filling utiliser les stats et test avec cluster de 1/3 de gros nodes mais aussi vrai test plus gros ou je devrais pas voir de différences).
			\item Paye Enseirb
			\item Remboursements Fréjus
			\item Remboursements Suède
			\item generation de workload : aller chercher loin puis cut le fichier plus tôt pour pas avoir trop de jobs non plus.
			\item Check rendu rapports le 30 Aout pour les 3A
			\item Fusionner fcfs score et area et mettre la contrainte des tailles et les temps dechargements.
			\item ajouter backfiling a tous ?
			\item essayer avec plus de gros noeuds pour size constraint
			\item Courbe en fixant 1 paramèrte
			\item ajouter easy bf a fcfs avec un score						
			\item tracer terminaison des jobs -2 sur courbes usage du cluster
			\item Ne pas oublier que j'ai les courbes VS sur flow stretch et queue times aussi que je peux tracer						
			\item Après avis favorable déposer dossier sur SIGED
			\item Code to compare ourselves, HEFT that would be FCFS that take into consideration transfer time for the earliest available cores
			\item Use same X scale for workloads stats when I want to compare them
			\item Use same X scale for some gantt charts when I want to compare them
			\item lire article bf : Utilization, Predictability, Workloads et le mettre dans les related works: It gives information about the imporvement given by backfilling. A complex conservative (loking at job size) backfilling can be better than easy, but it still depend on the workload.
			\item Faire plusieurs test et mettre une barre d'erreur
			\item Afficher temps de transferts sur les Gantt charts: Comment ?
			\item Rendre le code général (20 pour cores par node et 3 pour nb tailles de noeuds différents)
		\end{enumerate}
		
	%~ \subsection{Batsim}
		%~ \begin{enumerate}
			%~ \item Batsim a pas la granularité au sein d'un noeud
			%~ \item Gérer n nodes
			%~ \item Gérer n jobs
			%~ \item Faire un delay aussi long que la somme du poids des données manquantes
			%~ \item faire la maj des données du node partout, sois Dans le scheduler sois dans fit mais faut le faire!
			%~ \item Gérér à la main les évictions
		%~ \end{enumerate}

\end{document}
